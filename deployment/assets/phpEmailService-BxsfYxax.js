class n{constructor(){if(typeof window<"u"){const r=window.location.hostname;r==="localhost"||r==="127.0.0.1"?this.baseUrl="http://localhost:8080/api":this.baseUrl="/api"}else this.baseUrl="/api"}async sendContactEmail(r){const t=`${this.baseUrl}/contact.php`;console.log("ðŸ“§ Sending email via PHP backend to:",t),console.log("ðŸ“§ Email data:",{...r,message:r.message.substring(0,50)+"..."});try{const e=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r)});console.log("ðŸ“§ Response status:",e.status),console.log("ðŸ“§ Response headers:",Object.fromEntries(e.headers.entries()));const s=await e.text();if(console.log("ðŸ“§ Raw response:",s.substring(0,200)+"..."),s.trim().startsWith("<!DOCTYPE")||s.trim().startsWith("<html"))throw console.error("âŒ PHP returned HTML instead of JSON - likely a PHP error"),new Error(`Server returned HTML instead of JSON. This usually means there's a PHP error. Check ${t} directly in your browser.`);let o;try{o=JSON.parse(s)}catch{throw console.error("âŒ Failed to parse JSON response:",s),new Error(`Invalid JSON response from server: ${s.substring(0,100)}...`)}if(!e.ok)throw new Error(o.error||`HTTP error! status: ${e.status}`);if(!o.success)throw new Error(o.error||"Email sending failed");return console.log("âœ… Email sent successfully via PHP:",o),o}catch(e){throw console.error("âŒ PHP email service error:",e),e.name==="TypeError"&&e.message.includes("fetch")?new Error("Unable to connect to email service. Please check your internet connection."):e.message.includes("404")?new Error("Email service not found. Please contact support."):e.message.includes("CORS")?new Error("Cross-origin request blocked. Please contact support."):e}}getStatus(){return`PHP Email Service ready - Base URL: ${this.baseUrl}`}getBaseUrl(){return this.baseUrl}setBaseUrl(r){this.baseUrl=r}}const l=new n;export{l as default};
