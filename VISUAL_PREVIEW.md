# Visual Preview: Gmail Error Handling

## ğŸ¨ What Users See

### Scenario 1: Normal Operation (Gmail Working)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Get In Touch                          â”‚
â”‚         Ready to start your next project?                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Contact Form       â”‚  â”‚   Contact Info       â”‚
â”‚                      â”‚  â”‚                      â”‚
â”‚  [Name field]        â”‚  â”‚  ğŸ“§ Email Us         â”‚
â”‚  [Email field]       â”‚  â”‚  ğŸ“ Call Us          â”‚
â”‚  [Message field]     â”‚  â”‚  ğŸ“ Visit Us         â”‚
â”‚                      â”‚  â”‚                      â”‚
â”‚  [Send Message] âœ“    â”‚  â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                    â•‘ âœ… Message sent          â•‘
                    â•‘    successfully!         â•‘
                    â•‘                          â•‘
                    â•‘ We'll get back to you    â•‘
                    â•‘ shortly.                 â•‘
                    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         (Green Toast)
```

### Scenario 2: Gmail Authorization Error
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Get In Touch                          â”‚
â”‚         Ready to start your next project?                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ âš ï¸  Email Service Temporarily Unavailable               â•‘
â•‘                                                          â•‘
â•‘ Our email service needs to be reconnected.              â•‘
â•‘ Please contact us directly:                             â•‘
â•‘                                                          â•‘
â•‘ ğŸ“§ Email: lhlongwane81@gmail.com (clickable)           â•‘
â•‘ ğŸ“ Phone: +27 (0) 76 1020 672 (clickable)              â•‘
â•‘                                                          â•‘
â•‘ Admin Note: To fix this, go to your EmailJS            â•‘
â•‘ Dashboard â†’ Email Services â†’ Select your Gmail          â•‘
â•‘ service â†’ Click "Reconnect" and re-authorize            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         (Red Alert Banner - Full Width)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Contact Form       â”‚  â”‚   Contact Info       â”‚
â”‚                      â”‚  â”‚                      â”‚
â”‚  [Name: John]        â”‚  â”‚  ğŸ“§ Email Us         â”‚
â”‚  [Email: john@..]    â”‚  â”‚  ğŸ“ Call Us          â”‚
â”‚  [Message: Help..]   â”‚  â”‚  ğŸ“ Visit Us         â”‚
â”‚                      â”‚  â”‚                      â”‚
â”‚  [Send Message]      â”‚  â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                    â•‘ âŒ Gmail authorization   â•‘
                    â•‘    expired               â•‘
                    â•‘                          â•‘
                    â•‘ Please contact us        â•‘
                    â•‘ directly at              â•‘
                    â•‘ lhlongwane81@gmail.com   â•‘
                    â•‘ or call us.              â•‘
                    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         (Red Toast - 10s)
```

## ğŸ“± Mobile View

### With Error:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Get In Touch         â”‚
â”‚                         â”‚
â”‚  âš ï¸ Email Service       â”‚
â”‚  Temporarily            â”‚
â”‚  Unavailable            â”‚
â”‚                         â”‚
â”‚  ğŸ“§ lhlongwane81@...    â”‚
â”‚  ğŸ“ +27 (0) 76 1020..   â”‚
â”‚                         â”‚
â”‚  Admin: Reconnect in    â”‚
â”‚  EmailJS Dashboard      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Contact Form           â”‚
â”‚  [Name]                 â”‚
â”‚  [Email]                â”‚
â”‚  [Message]              â”‚
â”‚  [Send Message]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“§ Email Us            â”‚
â”‚  ğŸ“ Call Us             â”‚
â”‚  ğŸ“ Visit Us            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ Color Scheme

### Alert Banner (Gmail Error):
- Background: Red/Destructive variant
- Border: Darker red
- Icon: AlertCircle (âš ï¸)
- Links: Underlined, bold
- Admin note: Smaller text, 80% opacity

### Toast Notifications:
- **Success Toast:**
  - Background: Green/Success
  - Icon: âœ…
  - Duration: Default (4s)
  
- **Error Toast (Gmail):**
  - Background: Red/Destructive
  - Icon: âŒ
  - Duration: 10 seconds (longer to read)
  
- **Error Toast (Other):**
  - Background: Red/Destructive
  - Icon: âŒ
  - Duration: 7 seconds

## ğŸ’¬ Message Variants

### Success:
```
Title: "Message sent successfully!"
Description: "We'll get back to you shortly."
```

### Gmail Auth Error:
```
Title: "Gmail authorization expired"
Description: "Please contact us directly at lhlongwane81@gmail.com or call us."
```

### Generic Error:
```
Title: "Failed to send message"
Description: [Actual error from EmailJS]
```

## ğŸ” Console Output

### Success:
```javascript
EmailJS initialized
SUCCESS! 200 OK
```

### Gmail Auth Error:
```javascript
EmailJS initialized
EmailJS error details: {
  error: {...},
  status: 400,
  statusText: "Bad Request",
  message: "Gmail_API: Invalid grant. Please reconnect your Gmail account",
  text: "Gmail_API: Invalid grant. Please reconnect your Gmail account",
  serviceId: "service_f6dfp3s",
  templateId: "template_7g2jvm7",
  origin: "http://localhost:5173"
}
```

## ğŸ¯ User Journey

### Happy Path:
1. User fills form â†’ Clicks send
2. Loading state: "Sending..."
3. Success toast appears (green, 4s)
4. Form resets
5. User sees "Message sent successfully!"

### Error Path (Gmail Auth):
1. User fills form â†’ Clicks send
2. Loading state: "Sending..."
3. Red alert banner slides in (stays until refresh)
4. Error toast appears (red, 10s)
5. Form keeps data (not reset)
6. User clicks email/phone link from banner
7. User contacts directly

### Admin Fix Path:
1. Admin sees error reported
2. Opens GMAIL_RECONNECT_GUIDE.md
3. Goes to EmailJS dashboard
4. Clicks "Reconnect"
5. Authorizes Gmail
6. Tests contact form
7. âœ… Working again!

## ğŸ“Š Implementation Details

**React State:**
- `sending: boolean` - Button loading state
- `gmailAuthError: boolean` - Shows/hides alert banner

**Error Detection:**
```typescript
const errorText = error?.text || error?.message || '';
const isGmailAuthError = 
  errorText.includes('Gmail_API') && 
  (errorText.includes('Invalid grant') || 
   errorText.includes('invalid_grant'));
```

**UI Components Used:**
- `Alert` - Red banner at top
- `toast()` - Notification toasts
- `Button` - Submit with loading state
- `Input/Textarea` - Form fields
- `Card` - Layout containers

**Accessibility:**
- Alert has AlertCircle icon
- Links are keyboard navigable
- Toast has proper ARIA labels
- Error messages are screen-reader friendly
- High contrast colors for readability
